/* SPDX-License-Identifier: GPL-2.0 */
/*
 * Copyright (c) 2019 MediaTek Inc.
 */


#ifndef NT_USB_TS_H
#define NT_USB_TS_H

#include <linux/kernel.h>
#include <linux/device.h>

struct ts_temp {
	signed int BatteryTemp;
	signed int TemperatureVolt;
};

enum {
	USB_TS_TEMP_NORMAL = 0,
	USB_TS_HIGH_TEMP,
	USB_TS_BATT_TEMP_ABNORMAL,
	USB_TS_TEMP_INCREASE_FAST,
};
struct usb_temp_parameter {
	int enable;
	int sleep_ms;
	int usb_temp;
	int usb_battery_gap_temp;
	int usb_temp_raise_time;
	int usb_temp_raise_degree;
	int usb_temp_print_log_enable;
};

struct ts_temp ts_temp_table_10k[156] = {
	{-30,	1747541},
	{-29,	1744563},
	{-28,	1741446},
	{-27,	1738188},
	{-26,	1734783},
	{-25,	1731230},
	{-24,	1727524},
	{-23,	1723654},
	{-22,	1719624},
	{-21,	1715422},
	{-20,	1711049},
	{-19,	1706500},
	{-18,	1701777},
	{-17,	1696856},
	{-16,	1691750},
	{-15,	1686463},
	{-14,	1680956},
	{-13,	1675267},
	{-12,	1669371},
	{-11,	1663265},
	{-10,	1656939},
	{-9,	1650384},
	{-8,	1643653},
	{-7,	1636668},
	{-6,	1629487},
	{-5,	1622053},
	{-4,	1614384},
	{-3,	1606505},
	{-2,	1598392},
	{-1,	1590072},
	{0,	1581445},
	{1,	1572668},
	{2,	1563636},
	{3,	1554288},
	{4,	1544820},
	{5,	1534994},
	{6,	1525029},
	{7,	1514866},
	{8,	1504421},
	{9,	1493717},
	{10,	1482784},
	{11,	1471656},
	{12,	1460377},
	{13,	1448824},
	{14,	1437022},
	{15,	1425000},
	{16,	1412796},
	{17,	1400455},
	{18,	1387786},
	{19,	1375061},
	{20,	1362071},
	{21,	1349133},
	{22,	1335714},
	{23,	1322449},
	{24,	1308747},
	{25,	1294964},
	{26,	1281153},
	{27,	1266970},
	{28,	1252845},
	{29,	1238849},
	{30,	1224118},
	{31,	1210084},
	{32,	1195349},
	{33,	1180952},
	{34,	1165854},
	{35,	1151201},
	{36,	1136484},
	{37,	1121739},
	{38,	1107009},
	{39,	1091625},
	{40,	1077034},
	{41,	1061830},
	{42,	1047588},
	{43,	1031947},
	{44,	1017391},
	{45,	1002273},
	{46,	987500},
	{47,	973145},
	{48,	958273},
	{49,	943902},
	{50,	929032},
	{51,	914754},
	{52,	900000},
	{53,	885938},
	{54,	871429},
	{55,	857718},
	{56,	843597},
	{57,	829046},
	{58,	815428},
	{59,	801422},
	{60,	788473},
	{61,	775182},
	{62,	761538},
	{63,	749102},
	{64,	734750},
	{65,	723313},
	{66,	709938},
	{67,	697959},
	{68,	685714},
	{69,	673194},
	{70,	660390},
	{71,	649180},
	{72,	637748},
	{73,	626087},
	{74,	614189},
	{75,	602048},
	{76,	591738},
	{77,	581250},
	{78,	570578},
	{79,	559717},
	{80,	548663},
	{81,	539677},
	{82,	528261},
	{83,	518978},
	{84,	509559},
	{85,	500000},
	{86,	490299},
	{87,	480451},
	{88,	470455},
	{89,	462857},
	{90,	452591},
	{91,	444788},
	{92,	436893},
	{93,	428906},
	{94,	420825},
	{95,	412648},
	{96,	404374},
	{97,	396000},
	{98,	390361},
	{99,	381818},
	{100,	373171},
	{101,	367347},
	{102,	361475},
	{103,	352577},
	{104,	346584},
	{105,	340541},
	{106,	334447},
	{107,	328302},
	{108,	322105},
	{109,	315856},
	{110,	309554},
	{111,	303198},
	{112,	296788},
	{113,	293562},
	{114,	287069},
	{115,	280519},
	{116,	277223},
	{117,	270588},
	{118,	267249},
	{119,	260526},
	{120,	257143},
	{121,	252143},
	{122,	247143},
	{123,	242143},
	{124,	238143},
	{125,	233036}
};

struct ts_temp ts_temp_table_100k[156] = {
	{-30,	1720822},
	{-29,	1715686},
	{-28,	1710230},
	{-27,	1704402},
	{-26,	1698324},
	{-25,	1692036},
	{-24,	1685352},
	{-23,	1678686},
	{-22,	1671346},
	{-21,	1663993},
	{-20,	1655948},
	{-19,	1646785},
	{-18,	1638759},
	{-17,	1628955},
	{-16,	1619925},
	{-15,	1610324},
	{-14,	1599984},
	{-13,	1589352},
	{-12,	1578576},
	{-11,	1567162},
	{-10,	1554986},
	{-9,	1541227},
	{-8,	1528771},
	{-7,	1515998},
	{-6,	1501400},
	{-5,	1486713},
	{-4,	1472248},
	{-3,	1457027},
	{-2,	1440967},
	{-1,	1424866},
	{0,	1408364},
	{1,	1390432},
	{2,	1373309},
	{3,	1355969},
	{4,	1337845},
	{5,	1319356},
	{6,	1300382},
	{7,	1281436},
	{8,	1261703},
	{9,	1241951},
	{10,	1221925},
	{11,	1201614},
	{12,	1181313},
	{13,	1160755},
	{14,	1139691},
	{15,	1118096},
	{16,	1096655},
	{17,	1075854},
	{18,	1054510},
	{19,	1033259},
	{20,	1012536},
	{21,	992001},
	{22,	971956},
	{23,	951074},
	{24,	917690},
	{25,	895574},
	{26,	873965},
	{27,	853560},
	{28,	832773},
	{29,	812878},
	{30,	792403},
	{31,	772726},
	{32,	752568},
	{33,	732734},
	{34,	713924},
	{35,	694314},
	{36,	676167},
	{37,	657740},
	{38,	639356},
	{39,	621552},
	{40,	604242},
	{41,	586418},
	{42,	570073},
	{43,	553827},
	{44,	537755},
	{45,	522082},
	{46,	506438},
	{47,	491239},
	{48,	476395},
	{49,	461997},
	{50,	447929},
	{51,	434515},
	{52,	421375},
	{53,	408460},
	{54,	395847},
	{55,	383563},
	{56,	371580},
	{57,	359873},
	{58,	348683},
	{59,	337787},
	{60,	327160},
	{61,	316159},
	{62,	306880},
	{63,	297190},
	{64,	287839},
	{65,	278715},
	{66,	269829},
	{67,	261235},
	{68,	253047},
	{69,	244980},
	{70,	237164},
	{71,	229592},
	{72,	222386},
	{73,	215253},
	{74,	208360},
	{75,	201855},
	{76,	195409},
	{77,	189316},
	{78,	183297},
	{79,	177396},
	{80,	171896},
	{81,	166393},
	{82,	161214},
	{83,	156091},
	{84,	151267},
	{85,	146576},
	{86,	141968},
	{87,	137572},
	{88,	133252},
	{89,	129136},
	{90,	125157},
	{91,	121254},
	{92,	117543},
	{93,	113949},
	{94,	110475},
	{95,	107071},
	{96,	103824},
	{97,	100677},
	{98,	97641},
	{99,	94647},
	{100,	91812},
	{101,	89065},
	{102,	86408},
	{103,	83839},
	{104,	81351},
	{105,	78934},
	{106,	76599},
	{107,	74343},
	{108,	72162},
	{109,	70060},
	{110,	68020},
	{111,	66045},
	{112,	64134},
	{113,	62278},
	{114,	60483},
	{115,	58731},
	{116,	57049},
	{117,	55467},
	{118,	53889},
	{119,	52367},
	{120,	50880},
	{121,	49456},
	{122,	48098},
	{123,	46747},
	{124,	45440},
	{125,	44211}
};

int get_usb_temperature(void);
void set_usb_temperature(int temp);
int get_usb_ts_check_state(void);
struct usb_temp_parameter *get_usb_temp_parameter(void);
void set_usb_temp_parameter(struct usb_temp_parameter *temp_parameter);
bool get_usb_otg_status(void);

#endif /*NT_USB_TS_H*/
